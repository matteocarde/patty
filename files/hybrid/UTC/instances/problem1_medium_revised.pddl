(define (problem trafficlights)
	(:domain urbantraffic)
	(:objects
		ter1 ter2 ter3 - intersection
		r1 r2 r3 r4 r5 r6 r7 r8 r9 r10 r11 r12 r13 r14 r15 r16 r17 r18 r19 r20 - road
		buf0 buf1 buf2 - buffer
	)
	(:init

		(= (queue r1) 0)
		(= (queue r2) 40)
		(= (queue r3) 0)
		(= (queue r4) 50)
		(= (queue r5) 10)
		(= (queue r6) 40)
		(= (queue r7) 0)
		(= (queue r8) 5)
		(= (queue r9) 40)
		(= (queue r10) 40)
		(= (queue r11) 80)
		(= (queue r12) 5)
		(= (queue r13) 60)
		(= (queue r14) 0)
		(= (queue r15) 80)
		(= (queue r16) 0)
		(= (queue r17) 40)
		(= (queue r18) 0)
		(= (queue r19) 50)
		(= (queue r20) 0)
		(= (carsinbuffer buf0) 35)
		(gotcars buf0)
		(bufferconnected buf0 r17)
		(= (carsinbuffer buf1) 15)
		(gotcars buf1)
		(bufferconnected buf1 r15)
		(= (carsinbuffer buf2) 35)
		(gotcars buf2)
		(bufferconnected buf2 r9)
		(= (max_queue r1) 100)
		(= (max_queue r2) 100)
		(= (max_queue r3) 100)
		(= (max_queue r4) 50)
		(= (max_queue r5) 100)
		(= (max_queue r6) 100)
		(= (max_queue r7) 100)
		(= (max_queue r8) 100)
		(= (max_queue r9) 100)
		(= (max_queue r10) 100)
		(= (max_queue r11) 100)
		(= (max_queue r12) 100)
		(= (max_queue r13) 100)
		(= (max_queue r14) 100)
		(= (max_queue r15) 100)
		(= (max_queue r16) 100)
		(= (max_queue r17) 100)
		(= (max_queue r18) 100)
		(= (max_queue r19) 100)
		(= (max_queue r20) 100)
		(= (saturated_queue r1) 100)
		(= (saturated_queue r2) 100)
		(= (saturated_queue r3) 100)
		(= (saturated_queue r4) 20)
		(= (saturated_queue r5) 100)
		(= (saturated_queue r6) 100)
		(= (saturated_queue r7) 100)
		(= (saturated_queue r8) 100)
		(= (saturated_queue r9) 100)
		(= (saturated_queue r10) 100)
		(= (saturated_queue r11) 100)
		(= (saturated_queue r12) 100)
		(= (saturated_queue r13) 100)
		(= (saturated_queue r14) 100)
		(= (saturated_queue r15) 100)
		(= (saturated_queue r16) 100)
		(= (saturated_queue r17) 100)
		(= (saturated_queue r18) 100)
		(= (saturated_queue r19) 100)
		(= (saturated_queue r20) 100)

		;; intersection 1
		(= (greentime ter1) 0)
		(= (token ter1) 20)
		(= (maxtoken ter1) 20)
		(= (tokenvalue r8 ter1) 10)
		(= (tokenvalue r4 ter1) 10)
		(= (tokenvalue r2 ter1) 20)
		(= (tokenvalue r6 ter1) 20)
		(= (maxgreentime ter1) 20)
		(= (mingreentime ter1) 4)
		(= (flow r8 r3 ter1) 1)
		(= (flow r8 r5 ter1) 1)
		(= (flow r8 r7 ter1) 1)
		(= (flow r2 r1 ter1) 1)
		(= (flow r2 r5 ter1) 1)
		(= (flow r2 r7 ter1) 1)
		(= (flow r4 r1 ter1) 1)
		(= (flow r4 r3 ter1) 1)
		(= (flow r4 r7 ter1) 1)
		(= (flow r6 r1 ter1) 1)
		(= (flow r6 r3 ter1) 1)
		(= (flow r6 r5 ter1) 1)
		(availableflow r8 r3 ter1)
		(availableflow r8 r5 ter1)
		(availableflow r8 r7 ter1)
		(availableflow r2 r1 ter1)
		(availableflow r2 r5 ter1)
		(availableflow r2 r7 ter1)
		(availableflow r4 r1 ter1)
		(availableflow r4 r3 ter1)
		(availableflow r4 r7 ter1)
		(availableflow r6 r1 ter1)
		(availableflow r6 r3 ter1)
		(availableflow r6 r5 ter1)
		(active ter1 r8)
		(active ter1 r2)
		(active ter1 r4)
		(active ter1 r6)

		;; intersection 2
		(= (greentime ter2) 0)
		(= (token ter2) 20)
		(= (maxtoken ter2) 10)
		(= (tokenvalue r5 ter2) 10)
		(= (tokenvalue r11 ter2) 10)
		(= (tokenvalue r9 ter2) 20)
		(= (tokenvalue r13 ter2) 20)
		(= (maxgreentime ter2) 20)
		(= (mingreentime ter2) 4)
		(= (flow r5 r10 ter2) 1)
		(= (flow r5 r14 ter2) 1)
		(= (flow r5 r12 ter2) 1)
		(= (flow r9 r4 ter2) 1)
		(= (flow r9 r14 ter2) 1)
		(= (flow r9 r12 ter2) 1)
		(= (flow r11 r10 ter2) 1)
		(= (flow r11 r4 ter2) 1)
		(= (flow r11 r14 ter2) 1)
		(= (flow r13 r10 ter2) 1)
		(= (flow r13 r4 ter2) 1)
		(= (flow r13 r12 ter2) 1)
		(availableflow r5 r10 ter2)
		(availableflow r5 r14 ter2)
		(availableflow r5 r12 ter2)
		(availableflow r9 r4 ter2)
		(availableflow r9 r14 ter2)
		(availableflow r9 r12 ter2)
		(availableflow r11 r10 ter2)
		(availableflow r11 r4 ter2)
		(availableflow r11 r14 ter2)
		(availableflow r13 r10 ter2)
		(availableflow r13 r4 ter2)
		(availableflow r13 r12 ter2)
		(active ter2 r5)
		(active ter2 r9)
		(active ter2 r11)
		(active ter2 r13)

		;; intersection 3
		(= (maxgreentime ter3) 20)
		(= (mingreentime ter3) 4)
		(= (greentime ter3) 0)
		(= (token ter3) 20)
		(= (maxtoken ter3) 20)
		(= (tokenvalue r12 ter3) 10)
		(= (tokenvalue r17 ter3) 10)
		(= (tokenvalue r15 ter3) 20)
		(= (tokenvalue r19 ter3) 20)
		(= (flow r12 r16 ter3) 1)
		(= (flow r12 r18 ter3) 1)
		(= (flow r12 r20 ter3) 1)
		(= (flow r15 r11 ter3) 1)
		(= (flow r15 r20 ter3) 1)
		(= (flow r15 r18 ter3) 1)
		(= (flow r17 r11 ter3) 1)
		(= (flow r17 r16 ter3) 1)
		(= (flow r17 r20 ter3) 1)
		(= (flow r19 r16 ter3) 1)
		(= (flow r19 r11 ter3) 1)
		(= (flow r19 r18 ter3) 1)
		(availableflow r12 r16 ter3)
		(availableflow r12 r18 ter3)
		(availableflow r12 r20 ter3)
		(availableflow r15 r11 ter3)
		(availableflow r15 r20 ter3)
		(availableflow r15 r18 ter3)
		(availableflow r17 r11 ter3)
		(availableflow r17 r16 ter3)
		(availableflow r17 r20 ter3)
		(availableflow r19 r16 ter3)
		(availableflow r19 r11 ter3)
		(availableflow r19 r18 ter3)
		(active ter3 r12)
		(active ter3 r19)
		(active ter3 r17)
		(active ter3 r15)

	)
	(:goal
		(and
			(< (queue r4) 20)
		)
	)
)